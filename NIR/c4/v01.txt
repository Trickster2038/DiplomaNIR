workspace {

    model {
        user = person "Пользователь" "Учащийся"
        
        
        softwareSystem = softwareSystem "Система тестирования знаний на HDL-языках" {
            
                frontend = container "Клиент" "Предоставляет GUI" "Vue.js"
                api = container "API Шлюз" "Шлюз для обращения к внешним сервисам" "Node.js"
                compiler = container "Синтезатор" "Синтезирует и тестирует проекты на HDL-языках" "Flask + IcarusVerilog"
                crud_levels = container "Подсистема работы с уровнями" "CRUD-оболочка для уровней" "Flask"
                crud_statistics = container "Подсистема работы со статистикой" "Ведет и анализирует статистику прохождения уровней" "Flask"
                credentials = container "Подсистема работы с учетными данными" "Отвечает за регистрацию и аутентиикацию пользователей" "Node.js"
                
                db = container "База данных" "БД с информацией об уровнях, пользователях и статистике прохождения уровней" "PostgreSQL" "DB"

                frontend -> api  "Обращается по REST API" "JSON/HTTPS"
                api -> db "Вносит изменения в БД" "Database Connection"
            
        }
        
        live = deploymentEnvironment "Live" {
            deploymentNode "Server 1" {
                containerInstance frontend 
                containerInstance api
                containerInstance db 
            }
        }
        
        user -> frontend "Использует GUI" "HTTP/HTTPS"
    }

    views {
        container softwareSystem {
            include *
            autolayout lr
        }

        deployment softwareSystem live {
            include *
            autolayout 
        }
        
        styles {
            element "Container" {
                background #1168bd
                color #ffffff
            }
            element "Software System" {
                background #1168bd
                color #ffffff
            }
            element "Software System 2" {
                background #999999
                color #ffffff
            }
            element "DB" {
                shape cylinder
                background #1168bd
                color #ffffff
            }
            element "Person" {
                shape person
                background #08427b
                color #ffffff
            }
        }
        
    }
    
}
